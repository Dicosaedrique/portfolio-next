(()=>{"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class t{constructor(t,i,s,n,a,r){e(this,"id",void 0),e(this,"row",void 0),e(this,"col",void 0),e(this,"value",void 0),e(this,"fixed",void 0),e(this,"box",void 0),e(this,"neighbors",void 0),e(this,"addNeighbor",(e=>{-1===this.neighbors.indexOf(e)&&this.neighbors.push(e)})),this.id=t,this.row=i,this.col=s,this.value=n,this.fixed=a,this.box=r,this.neighbors=[]}setValue(e){this.value=e}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.EMPTY=-1;class s{constructor(e,s){i(this,"cellSize",void 0),i(this,"canvas",void 0),i(this,"sudoku",void 0),i(this,"cellBackground",void 0),i(this,"selectedCellBackground",void 0),i(this,"hoverCellBackground",void 0),i(this,"cellValueColor",void 0),i(this,"fixedCellValueColor",void 0),i(this,"lineColor",void 0),i(this,"lineWeight",void 0),i(this,"lineHalfWeight",void 0),i(this,"posMap",void 0),i(this,"hoverCell",null),i(this,"clickedCell",null),i(this,"init",(e=>{this.sudoku=e;let t=this.cellSize*e.getSize()+this.lineWeight*(e.dimension+1)+this.lineHalfWeight*(e.getSize()-e.dimension);resizeCanvas(t,t),this.drawSudokuLines(e)})),i(this,"drawSudokuLines",(()=>{stroke(this.lineColor),this.posMap=[];for(let e=0;e<=this.sudoku.getSize();e++){let t=Math.trunc(e/this.sudoku.dimension+1),i=e-Math.trunc(e/this.sudoku.dimension),s=e*this.cellSize+t*this.lineWeight+i*this.lineHalfWeight,n=e%this.sudoku.dimension==0?this.lineWeight:this.lineHalfWeight;strokeWeight(n),line(0,s-n/2,width,s-n/2),line(s-n/2,0,s-n/2,height),this.posMap[e]=s}})),i(this,"draw",((e=null)=>{noStroke(),textAlign(CENTER,CENTER),textSize(this.cellSize/2),this.sudoku.variables.forEach((t=>{this.drawCell(t,t==e?this.selectedCellBackground:this.cellBackground)}))})),i(this,"drawCell",((e,i)=>{let s=this.posMap[e.col],n=this.posMap[e.row];fill(i),rect(s,n,this.cellSize,this.cellSize),e.value!=t.EMPTY&&(textStyle(e.fixed?BOLD:NORMAL),fill(e.fixed?this.fixedCellValueColor:this.cellValueColor),text(e.value.toString(16).toUpperCase(),s+this.cellSize/2,n+this.cellSize/2)),displayCellIds&&(fill(color(255,0,0)),textSize(this.cellSize/5),text(e.id,s+this.cellSize/4,n+this.cellSize/4),textSize(this.cellSize/2))})),i(this,"detectCell",(()=>{let e=-1,t=-1;for(let i=0;i<this.posMap.length-1;i++)if(this.posMap[i]<=mouseX&&this.posMap[i]+this.cellSize>=mouseX&&(e=i),this.posMap[i]<=mouseY&&this.posMap[i]+this.cellSize>=mouseY&&(t=i),-1!=e&&-1!=t)return this.sudoku.getVariables()[this.sudoku.getIdFromPos(t,e)];return null})),i(this,"onMouseDown",(e=>{let t=this.detectCell();null!=t&&(this.clickedCell=t,0==e.button?(this.clickedCell.neighbors.forEach((e=>{this.drawCell(e,this.constraintColor)})),this.drawCell(this.clickedCell,this.constraintColor)):2==e.button&&(console.log(this.clickedCell),console.log(this.sudoku.getDomains()[this.clickedCell.id])))})),i(this,"onMouseUp",(e=>{0==e.button&&null!=this.clickedCell&&(this.clickedCell.neighbors.forEach((e=>{this.drawCell(e,this.cellBackground)})),this.drawCell(this.clickedCell,this.cellBackground)),this.clickedCell=null})),i(this,"onMouseHover",(()=>{if(null==this.clickedCell){let e=this.detectCell();null!=e&&(null!=this.hoverCell&&this.drawCell(this.hoverCell,this.cellBackground),this.hoverCell=e,this.drawCell(this.hoverCell,this.hoverCellBackground))}})),i(this,"onMouseLeave",(()=>{null!=this.hoverCell&&this.drawCell(this.hoverCell,this.cellBackground)})),this.cellSize=e,this.cellBackground=color(255,255,255),this.selectedCellBackground=color(247,247,87),this.hoverCellBackground=color(184,255,218),this.constraintColor=color(254,184,255),this.fixedCellValueColor=color(0,0,255),this.cellValueColor=color(0,0,0),this.lineColor=color(0,0,0),this.lineWeight=this.cellSize/10,this.lineHalfWeight=Math.max(this.lineWeight/2,1),this.canvas=createCanvas(),this.canvas.parent(s),document.getElementById(s).addEventListener("mousemove",this.onMouseHover),document.getElementById(s).addEventListener("mouseleave",this.onMouseLeave),document.getElementById(s).addEventListener("mousedown",this.onMouseDown),document.getElementById(s).addEventListener("mouseup",this.onMouseUp),document.getElementById(s).addEventListener("contextmenu",(e=>e.preventDefault()))}}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a{}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n(a,"getMinRemaningValue",(e=>e.unassignedVariable.reduce(((t,i)=>e.getDomains()[i.id].length<e.getDomains()[t.id].length?i:t)))),n(a,"getDegreeHeuristic",(e=>{let i,s=-1;for(const n of e){let e=0;for(const i of n.neighbors)i.value===t.EMPTY&&e++;e>s&&(s=e,i=n)}return i})),n(a,"getMinRemaningValueWithDegreeHeuristic",(e=>{let t=Number.MAX_SAFE_INTEGER,i=[];for(let s of e.unassignedVariable){let n=e.getDomains()[s.id].length;n<t?(t=n,i=[s]):n==t&&i.push(s)}return 1==i.length?i[0]:a.getDegreeHeuristic(i)})),n(a,"leastContrainingValue",((e,t)=>{let i=[];for(const s of e.getDomains()[t.id]){let n={value:s,count:0};for(const i of t.neighbors)-1!==e.getDomains()[i.id].indexOf(s)&&n.count++;i.push(n)}return i.sort(((e,t)=>e.count-t.count)),i.map((e=>e.value))})),n(a,"magicHeuristic",(e=>{let i,s=Number.MAX_SAFE_INTEGER;for(const n of e){let e=0;for(const i of n.neighbors)i.value===t.EMPTY&&e++;e<s&&(s=e,i=n)}return i}));class h extends class{constructor(e,t){l(this,"hash",void 0),l(this,"var1",void 0),l(this,"var2",void 0),l(this,"isValid",(()=>{throw"NOT IMPLEMENTED"})),l(this,"hashConstraint",(()=>{throw"NOT IMPLEMENTED"})),this.var1=e,this.var2=t}}{constructor(e,t){super(e,t),o(this,"isValid",(()=>h.isConsistent(this.var1.value,this.var2.value))),o(this,"hashConstraint",(()=>{let e=[this.var1.id,this.var2.id].sort();this.hash=e.join("-")})),this.hashConstraint()}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}o(h,"isConsistent",((e,i)=>e===t.EMPTY||i===t.EMPTY||e!=i));class u extends class{constructor(){r(this,"variables",void 0),r(this,"domains",void 0),r(this,"constraints",void 0),r(this,"getVariables",(()=>this.variables)),r(this,"selectUnassignedVariable",(()=>{throw"NOT IMPLEMENTED"})),r(this,"getDomains",(()=>this.domains)),r(this,"saveDomains",(()=>this.domains.map((e=>Array.from(e))))),r(this,"restoreDomains",(e=>{this.domains=e})),r(this,"getDefaultDomainValues",(()=>{throw"NOT IMPLEMENTED"})),r(this,"getDomainValuesForVariable",(e=>{throw"NOT IMPLEMENTED"})),r(this,"getConstraints",(()=>this.constraints)),r(this,"isComplete",(()=>{throw"NOT IMPLEMENTED"})),r(this,"isConsistent",((e,t)=>{throw"NOT IMPLEMENTED"})),r(this,"assign",((e,t)=>{throw"NOT IMPLEMENTED"})),r(this,"unassign",((e,t)=>{throw"NOT IMPLEMENTED"})),r(this,"render",(e=>{}))}}{constructor(){super(),c(this,"enableMRV",!0),c(this,"enableDegreeHeuristic",!0),c(this,"enableLeastContrainingValue",!0),c(this,"dimension",void 0),c(this,"unassignedVariable",void 0),c(this,"savedDomains",void 0),c(this,"drawer",void 0),c(this,"setDimension",(e=>{if(this.dimension!==e){this.dimension=e,null!=this.drawer&&this.drawer.init(this),this.variables=[],this.domains=[];for(let e=0;e<this.getSize();e++)for(let i=0;i<this.getSize();i++){let s=this.getIdFromPos(e,i),n=this.getBoxFromPos(e,i);this.variables.push(new t(s,e,i,t.EMPTY,!1,n)),this.domains[s]=this.getDefaultDomainValues()}this.generateConstraints(),this.populateCellNeighbors(),this.generateUnassignedVariables(),this.render()}})),c(this,"getDefaultDomainValues",(()=>Array.from({length:this.getSize()},((e,t)=>t+1)))),c(this,"setGrid",(e=>{let i=Math.sqrt(e[0].length);if(this.dimension!=i&&this.setDimension(i),this.variables.forEach((i=>{let s,n;const a=this.getPosFromId(i.id);s=parseInt(e[a.row][a.col],16),s=isNaN(s)?t.EMPTY:s,n=s!=t.EMPTY,i.value=s,i.fixed=n,this.domains[i.id]=n?[s]:this.getDefaultDomainValues()})),!this.isValid())throw"La grille n'est pas valide !";this.generateUnassignedVariables(),this.render()})),c(this,"reset",(()=>{this.variables.forEach((e=>{e.fixed||e.setValue(t.EMPTY),this.domains[e.id]=e.fixed?[e.value]:this.getDefaultDomainValues()})),this.generateUnassignedVariables(),this.render()})),c(this,"populateCellNeighbors",(()=>{this.constraints.forEach((e=>{e.var1.addNeighbor(e.var2),e.var2.addNeighbor(e.var1)}))})),c(this,"generateUnassignedVariables",(()=>{this.unassignedVariable=[],this.variables.forEach((e=>{e.value===t.EMPTY&&this.unassignedVariable.push(e)}))})),c(this,"generateConstraints",(()=>{let e;this.constraints=[];for(let t=0;t<this.getSize();t++)for(let i=0;i<this.getSize()-1;i++)for(let s=i+1;s<this.getSize();s++){let n=this.getIdFromPos(i,t),a=this.getIdFromPos(s,t);e=new h(this.variables[n],this.variables[a]),this.constraints.some((t=>t.hash===e.hash))||this.constraints.push(e);let r=this.getIdFromPos(t,i),l=this.getIdFromPos(t,s);e=new h(this.variables[r],this.variables[l]),this.constraints.some((t=>t.hash===e.hash))||this.constraints.push(e)}let t=[];this.variables.forEach((e=>{void 0===t[e.box]?t[e.box]=[e]:t[e.box].push(e)}));for(const e of t)for(let t=0;t<e.length-1;t++)for(let i=t+1;i<e.length;i++){let s=new h(e[t],e[i]);this.constraints.some((e=>e.hash===s.hash))||this.constraints.push(s)}})),c(this,"isValid",(()=>{for(const e of this.constraints)if(!e.isValid())return!1;return!0})),c(this,"getIdFromPos",((e,t)=>e*this.getSize()+t)),c(this,"getPosFromId",(e=>({row:Math.floor(e/this.getSize()),col:e%this.getSize()}))),c(this,"getSize",(()=>this.dimension*this.dimension)),c(this,"getCell",((e,t)=>this.variables[this.getIdFromPos(e,t)])),c(this,"getBoxFromPos",((e,t)=>Math.floor(e/this.dimension)*this.dimension+Math.floor(t/this.dimension))),c(this,"setDrawer",(e=>{this.drawer=e,this.drawer.init(this)})),c(this,"render",((e=null)=>{null!=this.drawer&&this.drawer.draw(e)})),c(this,"selectUnassignedVariable",(()=>this.enableMRV&&!this.enableDegreeHeuristic?a.getMinRemaningValue(this):this.enableMRV&&this.enableDegreeHeuristic?a.getMinRemaningValueWithDegreeHeuristic(this):!this.enableMRV&&this.enableDegreeHeuristic?a.getDegreeHeuristic(this.unassignedVariable):this.unassignedVariable[0])),c(this,"getDomainValuesForVariable",(e=>this.enableLeastContrainingValue?a.leastContrainingValue(this,e):this.domains[e.id])),c(this,"isComplete",(()=>0==this.unassignedVariable.length)),c(this,"isConsistent",((e,t)=>!e.neighbors.some((e=>!h.isConsistent(t,e.value))))),c(this,"assign",((e,t)=>{let i=this.unassignedVariable.indexOf(e);-1!==i&&this.unassignedVariable.splice(i,1),e.setValue(t),this.savedDomains[e.id]=this.domains[e.id].slice(),this.domains[e.id]=[t],e.neighbors.forEach((e=>{if(!e.fixed){let i=this.domains[e.id].indexOf(t);-1!==i&&this.domains[e.id].splice(i,1)}}))})),c(this,"unassign",((e,t)=>{e.fixed||(this.savedDomains[e.id]&&(this.domains[e.id]=this.savedDomains[e.id].slice()),e.neighbors.forEach((t=>{t.fixed||-1===this.domains[t.id].indexOf(e.value)&&this.domains[t.id].push(e.value)})),this.unassignedVariable.push(e),e.setValue(t))})),c(this,"log",(()=>{console.log(this.variables.map((e=>this.domains[e.id].reduce(((e,t)=>e+(t+"-")),""))))})),this.unassignedVariable=[],this.variables=[],this.constraints=[],this.domain=[],this.savedDomains=[]}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g{constructor(e=null){d(this,"queue",void 0),d(this,"offset",void 0),d(this,"getLength",(()=>this.queue.length-this.offset)),d(this,"isEmpty",(()=>0==this.queue.length)),d(this,"enqueue",(e=>{this.queue.push(e)})),d(this,"dequeue",(()=>{if(0!=this.queue.length){var e=this.queue[this.offset];return 2*++this.offset>=this.queue.length&&(this.queue=this.queue.slice(this.offset),this.offset=0),e}})),d(this,"peek",(e=>this.isEmpty()?void 0:this.queue[this.offset])),this.queue=[],this.offset=0,null!=e&&e.forEach((e=>{this.enqueue(e)}))}}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class v{constructor(e,t){b(this,"csp",void 0),b(this,"isConsistent",void 0),b(this,"reduceDomains",(()=>{let e=this.csp.getConstraints().map((e=>[e.var1,e.var2]));e=e.concat(this.csp.getConstraints().map((e=>[e.var2,e.var1])));const t=new g(e);let i=0;for(;!t.isEmpty();){let[e,s]=t.dequeue(),n=this.removeInconsistentValues(e,s);if(n>0){i+=n;for(let i of e.neighbors)t.enqueue([i,e])}}return i})),b(this,"removeInconsistentValues",((e,t)=>{let i=0;for(let s of this.csp.getDomains()[e.id])this.csp.getDomains()[t.id].some((e=>this.isConsistent(s,e)))||(this.csp.getDomains()[e.id].splice(this.csp.getDomains()[e.id].indexOf(s),1),i++);return i})),this.csp=e,this.isConsistent=t}}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e){let t;return t=-1!==(e=(e=e.replaceAll("!","")).replaceAll("-","")).indexOf("\r\n")?e.split("\r\n"):e.split("\n"),t=t.filter((e=>""!=e)),t}function p(e){return new Promise((t=>{setTimeout(t,e)}))}class C{constructor(e){m(this,"id",void 0),m(this,"clearId",void 0),this.id=e,this.clear()}log(e,t="primary",i=0){$(this.id).show(),$(this.id).text(e),$(this.id).attr("class",`alert alert-${t} my-2`),i>0&&(clearTimeout(this.clearId),this.clearId=setTimeout((()=>{$(this.id).fadeOut()}),i))}clear(){$(this.id).hide()}}function w(e){return e?"✅":"❌"}class V{constructor(e){m(this,"progressId",void 0),m(this,"show",(()=>{$(this.progressId).parent().show()})),m(this,"hide",(()=>{$(this.progressId).parent().hide()})),m(this,"setValue",(e=>{$(this.progressId).text(e+"%"),$(this.progressId).width(e+"%")})),this.progressId=e,this.setValue()}}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class D{constructor(){k(this,"render",void 0),k(this,"pauseDuration",void 0),k(this,"recursiveTempo",void 0),k(this,"recursiveCount",void 0),k(this,"stopped",void 0),k(this,"stack",void 0),k(this,"total",void 0),k(this,"search",(e=>(this.stopped=!1,this.stack=0,this.total=0,new Promise(((t,i)=>{this.recursiveSearch(e).then((e=>{e?t({stack:this.stack,total:this.total}):i()})).catch(i)}))))),k(this,"recursiveSearch",(e=>new Promise((async(t,i)=>{if(this.stopped)return i();if(e.isComplete())return t(!0);this.stack++;const s=e.selectUnassignedVariable();for(const n of e.getDomainValuesForVariable(s))if(this.total++,e.isConsistent(s,n)){const a=s.value;e.assign(s,n),await this.renderCsp(e,s);let r=!1;try{r=await this.recursiveSearch(e)}catch{i()}if(r)return t(!0);e.unassign(s,a)}t(!1)})))),k(this,"stop",(()=>{this.stopped=!0})),k(this,"renderCsp",(async(e,t)=>{this.render&&(this.recursiveCount++,this.recursiveCount>this.recursiveTempo&&(this.recursiveCount=0,await p(this.pauseDuration),e.render(t)))})),this.render=!1,this.pauseDuration=0,this.recursiveTempo=1,this.recursiveCount=0}}function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class E{constructor(e,t,i,s=null){M(this,"sudoku",void 0),M(this,"ac3",void 0),M(this,"backtracking",void 0),M(this,"configs",void 0),M(this,"results",void 0),M(this,"tableId",void 0),M(this,"logger",void 0),M(this,"progressBar",void 0),M(this,"startTime",void 0),M(this,"total",void 0),M(this,"current",void 0),M(this,"start",(e=>(this.results=new Map,this.startTime=Date.now(),this.progressBar.show(),this.total=this.configs.length,this.current=0,new Promise((async t=>{for(const t of this.configs)await this.register(e,t),this.current++,this.progressBar.setValue(this.current/this.total*100),await p(0);this.presentResults(this.results),t()}))))),M(this,"register",((e,t)=>new Promise((async i=>{let s={time:0,reducedDomains:0,stack:0,total:0,err:null},n=Date.now();try{this.sudoku.setGrid(e)}catch(e){s.err=e}finally{this.sudoku.enableMRV=t.enableMRV,this.sudoku.enableDegreeHeuristic=t.enableDegreeHeuristic,this.sudoku.enableLeastContrainingValue=t.enableLeastContrainingValue,t.enableAc3&&(s.reducedDomains=this.ac3.reduceDomains());try{const{stack:e,total:t}=await this.backtracking.search(this.sudoku);s.stack=e,s.total=t}catch(e){s.err=e}}s.time=Date.now()-n,this.results.set(t,s),i()})))),M(this,"presentResults",(e=>{let t=[];$(this.tableId).DataTable().destroy();for(const i of e.keys()){const s=e.get(i);t.push([w(i.enableAc3),w(i.enableMRV),w(i.enableDegreeHeuristic),w(i.enableLeastContrainingValue),s.stack,s.total,(s.total/s.stack).toFixed(1),s.reducedDomains,s.time/1e3])}$(this.tableId).DataTable({data:t,searching:!1,paging:!1,columnDefs:[{className:"dt-center",targets:"_all"}],bInfo:!1}),$(this.tableId).show(),null!==this.logger&&this.logger.log(`Fin du benchmark (${(Date.now()-this.startTime)/1e3}s.)`,"success")})),this.sudoku=new u,this.ac3=new v(this.sudoku,h.isConsistent),this.backtracking=new D,this.configs=e,this.tableId=t,this.logger=s,this.progressBar=i}}const _=[{enableAc3:!1,enableMRV:!1,enableDegreeHeuristic:!1,enableLeastContrainingValue:!1},{enableAc3:!0,enableMRV:!0,enableDegreeHeuristic:!0,enableLeastContrainingValue:!0},{enableAc3:!0,enableMRV:!1,enableDegreeHeuristic:!1,enableLeastContrainingValue:!1},{enableAc3:!1,enableMRV:!0,enableDegreeHeuristic:!1,enableLeastContrainingValue:!1},{enableAc3:!1,enableMRV:!1,enableDegreeHeuristic:!1,enableLeastContrainingValue:!0},{enableAc3:!0,enableMRV:!0,enableDegreeHeuristic:!1,enableLeastContrainingValue:!1},{enableAc3:!1,enableMRV:!0,enableDegreeHeuristic:!0,enableLeastContrainingValue:!1},{enableAc3:!1,enableMRV:!0,enableDegreeHeuristic:!1,enableLeastContrainingValue:!0},{enableAc3:!0,enableMRV:!0,enableDegreeHeuristic:!0,enableLeastContrainingValue:!1},{enableAc3:!0,enableMRV:!0,enableDegreeHeuristic:!1,enableLeastContrainingValue:!0}];window.setup=function(){T=new u,I=new s(50,"sudoku-container"),T.setDrawer(I),T.enableMRV=$("#enable_mrv").prop("checked"),T.enableDegreeHeuristic=$("#enable_degree_heuristic").prop("checked"),T.enableLeastContrainingValue=$("#enable_least_contraining_value").prop("checked"),y=new v(T,h.isConsistent),z(L),globalThis.sudoku=T};const P=new C("#alert_log");let T,I,y,x,S=new D;globalThis.displayCellIds=!1;let L=f("...!.78!2..\n387!54.!.1.\n4..!169!...\n---!---!---\n...!42.!9.5\n..2!...!84.\n941!7.5!...\n---!---!---\n...!2..!5.3\n25.!...!...\n89.!..3!...");function H(){T.reset();let e=0;x&&(e=y.reduceDomains());let t=Date.now();S.search(T).then((({stack:i,total:s})=>{T.render(),P.log(`Une solution a été trouvée en ${(Date.now()-t)/1e3}s. (${i} appels récursifs - ${s} valeurs testées)${x?` - ${e} valeurs du domaine réduit avec AC-3`:""}`,"success"),N(!0)})).catch((e=>{e&&console.log(e),T.render(),P.log(`Aucune solution n'a été trouvée (${(Date.now()-t)/1e3}s.)`,"danger"),N(!0)})),N(!1)}function z(e){if(T instanceof u)try{T.setGrid(e)}catch(e){P.log(`Erreur (${e})`,"danger"),T.reset()}}function N(e){$("#search_button").prop("disabled",!e),$("#clear_button").prop("disabled",!e),$("#stop_button").prop("disabled",e)}$(document).ready((()=>{$("#file-selector").on("change",(function(){var e;null!=this.files[0]?(e=this.files[0],new Promise(((t,i)=>{const s=new FileReader;s.onerror=()=>i(s.error),s.onloadend=()=>t(s.result),s.readAsText(e)}))).then((e=>{L=f(e),z(L)})).catch((e=>{console.error(e)})):console.error("Aucun fichier selectionné !")})),$("#search_button").on("click",H),$("#clear_button").on("click",(()=>{T.reset()})),$("#stop_button").on("click",(()=>{S.stop()})),$("#benchmark_button").on("click",(()=>{new E(_,"#benchmark_table",new V("#benchmark_progress"),new C("#benchmark_log")).start(L)})),$("#enable_render_search").on("change",(e=>{S.render=e.target.checked})),$("#enable_ac3").on("change",(e=>{x=e.target.checked})),$("#enable_mrv").on("change",(e=>{T.enableMRV=e.target.checked,T.enableMagicHeuristic&&$("#enable_magic_heuristic").click()})),$("#enable_degree_heuristic").on("change",(e=>{T.enableDegreeHeuristic=e.target.checked,T.enableMagicHeuristic&&$("#enable_magic_heuristic").click()})),$("#enable_least_contraining_value").on("change",(e=>{T.enableLeastContrainingValue=e.target.checked})),$("#enable_magic_heuristic").on("change",(e=>{T.enableMagicHeuristic=e.target.checked,T.enableMagicHeuristic&&(T.enableMRV&&$("#enable_mrv").click(),T.enableDegreeHeuristic&&$("#enable_degree_heuristic").click())})),$("#enable_display_ids").on("change",(e=>{displayCellIds=e.target.checked,T.render()})),$("#pause_duration").on("change",(e=>{S.pauseDuration=e.target.value})),$("#iteration_tempo").on("change",(e=>{S.recursiveTempo=e.target.value})),$("#pause_duration").val(S.pauseDuration),$("#iteration_tempo").val(S.recursiveTempo),S.render=$("#enable_render_search").prop("checked"),displayCellIds=$("#enable_display_ids").prop("checked"),x=$("#enable_ac3").prop("checked"),N(!0)}))})();